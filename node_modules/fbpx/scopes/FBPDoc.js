'use strict';

var util = require('util');
var Scope = require('dyslexer').Scope;

function FBPDocScope(lexer) {
  Scope.apply(this, [lexer]);

  this.tokenEnding = ['/'];

}

// escape char could be *anything* but *
// so maybe make the escape char a regexp
util.inherits(FBPDocScope, Scope);

FBPDocScope.prototype.onLineStart = function() {

  // setting this is important
  // mandatory actually.
  this.tokensExpected = 1;

};

FBPDocScope.prototype.setup = function() {

  // Used to validate the tokens.
  this.validate = {
    FBPDOC: /^\/\*[^]*\*\//gm,
  };

  this.structure = [
    ['FBPDOC']
  ];

};

FBPDocScope.prototype.onToken = function(token) {

  this.lexer.present('FBPDOC', token);

};

module.exports = FBPDocScope;
